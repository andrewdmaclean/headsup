(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(80)},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(22),i=a(16),s=a(13),r=a.n(s),o=a(18),c=a(4),l=a(5),u=a(11),m=a(10),d=a(12),f=a(0),p=a.n(f),g=a(33),h=a.n(g),v=a(15),b=a.n(v),E=(a(47),function(e){var t=e.score,a=e.activeCollection,n=e.getActiveCat,i=e.backToMenu,s=e.finalAnswers;return p.a.createElement("div",{className:"Staging"},p.a.createElement("p",{className:"Score"},"Score: ",t),p.a.createElement("ul",{className:"Results-list"},s.map(function(e){var t=e.name,a=e.status;return p.a.createElement("li",{key:t,className:b()("Results",{"Results--skip":"skip"===a})},t)})),p.a.createElement("div",{className:"Results-btnWrap"},a.list.size>0&&p.a.createElement("button",{className:"Results-btn Results-btn--go",onClick:function(){n({cat:a})}},"Play deck again"),p.a.createElement("button",{className:"Results-btn",onClick:function(){i()}},"New Category")))}),w=a(34),y=a(21),k=(a(48),function(e){return p.a.createElement("svg",Object.assign({viewBox:"0 0 453.6 151.2"},e),p.a.createElement("g",{fill:"#FFF"},p.a.createElement("path",{d:"M100 85.8v.9c0 15-13.4 27.2-29.3 27.2-7.9 0-15.1-3.1-20.4-8-5.3 4.9-12.7 8-20.7 8C13.4 113.8 0 101.2 0 85.8v-.6-36.7c0-4.9 4.1-8.9 9-8.9s9 4 9 8.9V85.8C18 91.4 23.1 96 29.5 96S41 91.4 41 85.8v-.6-36.7c0-4.9 4.1-8.9 9-8.9s9 4 9 8.9V85.8C59 91.4 64.1 96 70.5 96S82 91.4 82 85.8V48.2c0-4.9 4.1-8.9 9-8.9s9 4 9 8.9v37.6zM179 47.3v56.8c0 4.6-4 8.5-8.9 8.5s-8.1-3.9-8.1-8.5v-1.8c-6 5.5-13.7 8.8-22.6 8.8-19.9 0-35.9-16-35.9-35.8s16-35.9 35.9-35.9c8.9 0 16.7 3.4 22.7 8.6v-.7c0-4.6 3.2-8.5 8.1-8.5 4.8.1 8.8 3.9 8.8 8.5zm-21 28.1c0-10.2-8.5-18.6-18.6-18.6-10.2 0-18.7 8.3-18.7 18.6s8.5 18.4 18.7 18.4c10.1 0 18.6-8.2 18.6-18.4zM194.6 26c-5.2 0-9.6-4.2-9.6-9.1v-.7c0-5.2 4.5-9.2 9.6-9.2 4.9 0 9.4 4 9.4 9.2v.7c0 4.9-4.5 9.1-9.4 9.1zm0 87.1c-5.2 0-9.6-4.2-9.6-9.2V46.6c0-5 4.5-9.1 9.6-9.1 4.9 0 9.4 4 9.4 9.1v57.3c0 5-4.5 9.2-9.4 9.2zM253.6 103.7c0 5-4 8.9-8.9 8.9-1.3 0-2.5 0-3.9-.1-4.9-.7-9.5-2.8-12.9-6.7-3-3.4-4.9-8.8-4.9-13.4V54.8h-6.7c-4.9 0-8.9-4.1-8.9-9s4-9 8.9-9h6.7V8.9c0-4.9 3.6-8.9 8.5-8.9s8.5 4 8.5 8.9v27.9h5.4c4.9 0 8.9 4.1 8.9 9s-4 9-8.9 9H240v35.6c1 1.2.2 3 1.3 3.9.7.7 2.2.6 3.2.6 4.9-.1 9.1 4 9.1 8.8zM316.4 113.5c-19.3 0-35.4-16.8-35.4-37.3V47.9c0-4.9 3.9-8.9 8.5-8.9 4.8 0 9.5 4 9.5 8.9v28.3c0 10.7 8.8 19.3 17.4 19.3 10.1 0 17.6-8.6 17.6-19.3V49.1c0-5 5.4-8.9 9.4-8.9 4.6 0 8.6 3.9 8.6 8.9v27.2c0 20.5-16.1 37.2-35.6 37.2zM431.7 76.1c0 20.8-17 37.6-37.6 37.6-7.7 0-15-2.4-21-6.2v34.7c0 5-4 9.1-8.9 9.1-5 0-9.1-4-9.1-9.1V47.8c0-4.9 4.1-8.9 9.2-8.9 4 0 7.5 2.7 8.7 6.2 5.9-4.2 13.4-6.5 21.3-6.5 20.4 0 37.4 16.8 37.4 37.5zm-18 0c0-10.8-8.9-19.6-19.6-19.6-10.8 0-19.6 8.8-19.6 19.6s8.8 19.6 19.6 19.6c10.7 0 19.6-8.7 19.6-19.6zM443.9 84.3c-4.9 0-8.9-4-8.9-8.9V9.5c0-5 4-9.1 8.9-9.1 5 0 9.1 4 9.1 9.1v65.9c0 4.9-4 8.9-9.1 8.9zm.7 28.5h-1c-4.9 0-8.9-4-8.9-9.1 0-4.9 4-8.9 8.9-8.9h1c5 0 9.1 4 9.1 8.9-.1 5.1-4.1 9.1-9.1 9.1z"})))}),C=(a(49),a(35)),S=a.n(C).a.initializeApp({apiKey:"AIzaSyDMJ-2TjawLbkjbXVl0844mEpmcM5-SDII",authDomain:"wait-up-5ad7e.firebaseapp.com",databaseURL:"https://wait-up-5ad7e.firebaseio.com",projectId:"wait-up-5ad7e",storageBucket:"wait-up-5ad7e.appspot.com",messagingSenderId:"603672906124",appId:"1:603672906124:web:2fcf7a00792f8644"}),N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={buttons:[],toggleCard:!1},a.createButtons=function(){var e=a.props.categories.map(function(e){return{name:e.name,isActive:!1,isLocked:e.isLocked}});a.setState({buttons:e})},a.logout=function(){S.auth().signOut()},a.toggleBtn=function(e){var t=Object(i.a)(a.state.buttons),n=t.findIndex(function(t){return t.name===e.name});t.forEach(function(e,t){return e.isActive=t===n&&!e.isActive}),a.setState(function(e){return{buttons:t}})},a.getBackBtnText=function(e){return"TRUE"===e.isLocked?"Unlock!":0===e.size?"Empty":"Start"},a.getCategoryURL=function(e){return e.toLowerCase().trim().replace(/\s/g,"-")},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.createButtons()}},{key:"componentDidUpdate",value:function(e){e.categories!==this.props.categories&&this.createButtons()}},{key:"render",value:function(){var e=this,t=this.props,a=t.getActiveCat,n=t.categories,i=t.user;return p.a.createElement("div",{className:"Menu"},p.a.createElement(k,{className:"Logo"}),i&&i.email&&p.a.createElement("div",{className:""},"Welcome, ",i.email,"! ",p.a.createElement("button",{onClick:this.logout},"Sign Out")),p.a.createElement("div",{className:"Menu-board"},this.state.buttons.length&&this.state.buttons.length===this.props.categories.length&&n.map(function(t,n){return p.a.createElement("div",{key:t.name,className:b()("Menu-card",{"is-flipped":e.state.buttons[n].isActive,"is-locked":"TRUE"===t.isLocked}),onClick:function(){e.toggleBtn(t)}},p.a.createElement("div",{className:"Menu-side Menu-side--back"},p.a.createElement("p",null,t.description),p.a.createElement("div",{className:"Menu-side-btnWrap"},"TRUE"===t.isLocked?p.a.createElement(y.b,{className:"Menu-side-btn Menu-side-btn--go",to:"/login/".concat(e.getCategoryURL(t.name))},e.getBackBtnText(t)):p.a.createElement(w.a,null,function(n){var i=n.enable,s=n.isOn;return p.a.createElement("button",{className:"Menu-side-btn Menu-side-btn--go",onClick:function(){a({cat:t,enable:i,isOn:s,isLocked:t.isLocked})},disabled:0===t.size},e.getBackBtnText(t))}))),p.a.createElement("div",{className:b()("Menu-side Menu-side--front",{"is-disabled":0===t.size})},t.name,"TRUE"===t.isLocked&&p.a.createElement("div",{className:"Menu-side-saleFlag"},"$0.99!"),p.a.createElement("p",{className:"Menu-info"},"".concat(t.list.size," cards left"))))})))}}]),t}(f.Component),O=a(29),M=a.n(O),x=a(39),I=(a(70),function(e){var t=e.inGameTimer,a=e.activeItem,n=e.isAnimating,i=e.removeAnimationClasses,s=t<10,r=(s?"0:0":"0:")+t,o="correct"===n?"https://uploads.codesandbox.io/uploads/user/b8f1fe91-9c56-4aa6-8e4b-be201500d8d0/oyPj-sound_correct.mp3":"https://uploads.codesandbox.io/uploads/user/b8f1fe91-9c56-4aa6-8e4b-be201500d8d0/GgUH-sound_skip.mp3",c="correct"===n?"Correct!":"Skip!";return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:b()("Staging",{"Staging--correct":"correct"===n,"Staging--skip":"skip"===n}),onTransitionEnd:i},n&&!x.isIOS&&p.a.createElement(M.a,{url:o,playStatus:M.a.status.PLAYING}),void 0!==a?p.a.createElement("div",{className:"Game-activeItem"},""!==n?c:a):p.a.createElement("p",null,"Category is empty :( ",p.a.createElement("br",null)," Tap to continue"),p.a.createElement("div",{className:b()("Timer",{"is-countdown":s})},r)))}),T=(a(71),function(){return p.a.createElement("svg",{className:"LoadingIcon",xmlns:"http://www.w3.org/2000/svg",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:{background:"none"}},p.a.createElement("g",{transform:"rotate(0 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(30 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(60 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(90 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(120 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(150 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(180 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(210 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(240 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(270 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(300 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),p.a.createElement("g",{transform:"rotate(330 50 50)"},p.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#fff"},p.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}))))}),A=(a(72),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.body.style.cssText="position: fixed; top: 0;left: 0;right: 0;overflow-y: scroll;"}},{key:"componentWillUnmount",value:function(){document.body.style.cssText=""}},{key:"render",value:function(){return p.a.createElement("div",{className:"HelpModal"},p.a.createElement("h2",{className:"HelpModal-title"},"Help"),p.a.createElement("p",{className:"HelpModal-subtitle"},"I can't advance past the first clue on my iphone/ipad?"),p.a.createElement("p",{className:"HelpModal-copy"},'Open up settings on your device, go to "Safari" and make sure ',p.a.createElement("span",{className:"HelpModal-emphasis"},'"Motion & Orientation Access" is toggled ON'),". ",p.a.createElement("em",null,"Note: This might require you to restart your device in order for the setting to bake in.")),p.a.createElement("h2",{className:"HelpModal-subtitle"},'I can\'t advance past the "Place on Forehead" screen?'),p.a.createElement("p",{className:"HelpModal-copy"},"Make sure orientation lock on your device is OFF. If your device can't flip to landscape, the game cannot begin."),p.a.createElement("h2",{className:"HelpModal-subtitle"},"Contact"),p.a.createElement("p",{className:"HelpModal-copy"},"For issues, feedback, inquiries or anything at all feel free to reach out at: ",p.a.createElement("span",{className:"HelpModal-emphasis"},"w",p.a.createElement("span",null,"ai"),"tupga",p.a.createElement("span",null,"me@"),"g",p.a.createElement("span",null,"m"),"ail.com"),"!"),p.a.createElement("button",{className:"HelpModal-closeBtn",onClick:this.props.handleHelpModal},"\xd7"))}}]),t}(p.a.Component)),j=a(17),L=a(26),G=a(20),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.login=function(e,t){e.preventDefault(),S.auth().signInWithEmailAndPassword(a.state.email,a.state.password).then(function(){t.push("/")}).catch(function(e){a.setState({error:e.message})})},a.signup=function(e,t){e.preventDefault(),S.auth().createUserWithEmailAndPassword(a.state.email,a.state.password).then(function(){t.push("/")}).catch(function(e){a.setState({error:e.message})})},a.handleSubmit=function(){var e=Object(o.a)(r.a.mark(function e(t,n,i){var s,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.login(t,n),e.prev=2,e.next=5,a.props.stripe.createToken({name:a.state.email});case 5:return s=e.sent,o=s.token,e.next=9,fetch("/api/donate",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({token:o})});case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),e.t0;case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return p.a.createElement(j.a,{render:function(t){var a=t.history,n=t.location;return p.a.createElement("div",{className:"Login-wrap"},p.a.createElement("form",{className:"Login",onSubmit:function(t){return e.handleSubmit(t,a,n)}},p.a.createElement("h2",{className:"Login-title"},"Sign up to purchase decks!"),p.a.createElement("input",{type:"email",name:"email",placeholder:"Email",className:"Login-input",onChange:function(t){return e.handleChange(t)}}),p.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"Login-input",onChange:function(t){return e.handleChange(t)}}),p.a.createElement("div",{className:"Login-btnWrap"},p.a.createElement(p.a.Fragment,null,p.a.createElement("button",{type:"submit",className:"Login-btn Login-btn--signIn"},"Sign In"),p.a.createElement("button",{className:"Login-btn Login-btn--signUp"},"Sign Up!"))),p.a.createElement(G.CardElement,null),e.state.error&&p.a.createElement("p",null,e.state.error)))}})}}]),t}(f.Component),z=Object(G.injectStripe)(R),P=(a(78),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return p.a.createElement(G.StripeProvider,{apiKey:"pk_test_ZWmVelRqEpVF1yGEpwlPyVIc00BdFJD6I9"},p.a.createElement(G.Elements,null,p.a.createElement(z,null)))}}]),t}(f.Component)),H=(a(79),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function D(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),window.location.reload(),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var U,B,W=60,V=3,F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={isMenu:!0,isStaging:!1,isGameInProgress:!1,isGameOver:!1,isResults:!1,isCountdownInProgress:!1,score:0,finalAnswers:[],categories:{},activeCollection:{},startGameTimer:V+1,inGameTimer:W,activeItem:"",orientation:"positive",blockRotation:!1,isAnimating:"",user:{},isModalOpen:!1},a.fetchData=Object(o.a)(r.a.mark(function e(){var t,n,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("waitup-categories")||navigator.onLine){e.next=5;break}t=JSON.parse(localStorage.getItem("waitup-categories")),a.onLoad(t),e.next=16;break;case 5:return"AIzaSyAZ1DwWLQtUG4THryaQOohA1GatPSW4bKQ","1zwtuoozCw-8iGHFhJiolPz0Loy4sk17mHffVorw2z1s",n="https://sheets.googleapis.com/v4/spreadsheets/".concat("1zwtuoozCw-8iGHFhJiolPz0Loy4sk17mHffVorw2z1s","/values:batchGet?ranges=categories&majorDimension=COLUMNS&key=").concat("AIzaSyAZ1DwWLQtUG4THryaQOohA1GatPSW4bKQ"),e.next=10,fetch(n);case 10:return i=e.sent,e.next=13,i.json();case 13:s=e.sent,localStorage.setItem("waitup-categories",JSON.stringify(s)),a.onLoad(s);case 16:case"end":return e.stop()}},e)})),a.onLoad=function(e){for(var t=e.valueRanges[0].values,n=[],s=0;s<t.length;s++){var r={};r.name=t[s][0],r.isLocked=t[s][1],r.description=t[s][2],r.list=new Set(Object(i.a)(t[s].splice(3))),n.push(r)}a.setState({categories:n,activeCollection:n[0]})},a.authListener=function(){S.auth().onAuthStateChanged(function(e){e?a.setState({user:e}):a.setState({user:null})})},a.onDeviceMotion=function(e){(a.state.isStaging||a.state.isGameInProgress)&&e.acceleration.x>35&&(a.resetGame(),a.backToMenu())},a.onDeviceOrientation=function(e){a.state.isGameInProgress&&(Math.abs(e.gamma)<=30&&!a.state.blockRotation&&(e.gamma<0?"positive"===a.state.orientation?a.getNextItem("skip"):a.getNextItem("correct"):"positive"===a.state.orientation?a.getNextItem("correct"):a.getNextItem("skip"),a.setState({blockRotation:!0})),Math.abs(e.gamma)>=70&&a.setState({blockRotation:!1}))},a.onOrientationChange=function(){a.state.isStaging&&(90===window.orientation?(a.setState({orientation:"positive"}),a.startGame()):-90===window.orientation&&(a.setState({orientation:"negative"}),a.startGame()))},a.getActiveCat=function(e){var t=e.isOn,i=e.cat,s=e.enable;!t&&s&&s();var r=Object(n.a)({},i,{list:new Set(i.list)});a.setState({activeCollection:r}),a.goToStaging()},a.onInGameTimerComplete=function(){return new Promise(function(e){U=setInterval(function(){a.setState(function(e){return{inGameTimer:e.inGameTimer-1}}),(a.state.inGameTimer<1||a.state.isGameOver)&&(clearInterval(U),e(!0))},1e3)})},a.resetGame=function(){clearInterval(B),clearInterval(U),void 0!==a.state.activeItem&&a.setState(function(e){return{finalAnswers:[].concat(Object(i.a)(e.finalAnswers),[{name:a.state.activeItem,status:"skip"}])}});var e=new Set(a.state.activeCollection.list);e.delete(a.state.activeItem),a.setState(function(t){return{activeCollection:Object(n.a)({},t.activeCollection,{list:e}),isCountdownInProgress:!1,inGameTimer:W,startGameTimer:V+1,isGameInProgress:!1,isStaging:!1,isGameOver:!1,isResults:!0}})},a.startGame=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.onStartCountdownComplete();case 2:return a.setState({isCountdownInProgress:!1,startGameTimer:V+1,isGameInProgress:!0,isMenu:!1,isResults:!1,isStaging:!1}),a.getNextItem(),e.next=6,a.onInGameTimerComplete();case 6:a.resetGame();case 7:case"end":return e.stop()}},e)})),a.makeDecision=function(e){e&&(a.setState(function(t){return{finalAnswers:[].concat(Object(i.a)(t.finalAnswers),[{name:a.state.activeItem,status:e}])}}),"correct"===e?a.setState(function(e){return{score:e.score+1,isAnimating:"correct"}}):a.setState({isAnimating:"skip"}))},a.getRandomItem=function(){var e=Math.floor(Math.random()*a.state.activeCollection.list.size),t=Object(i.a)(a.state.activeCollection.list)[e],s=new Set(a.state.activeCollection.list);s.delete(t);var r=Object(i.a)(a.state.categories);r.splice(r.findIndex(function(e){return e.name===a.state.activeCollection.name}),1,Object(n.a)({},a.state.activeCollection,{list:s})),a.setState(function(e){return{activeItem:t,activeCollection:Object(n.a)({},e.activeCollection,{list:s}),categories:r}})},a.getNextItem=function(e){void 0!==a.state.activeItem||0!==a.state.activeCollection.list.size?(a.makeDecision(e),a.getRandomItem()):a.setState({isGameOver:!0})},a.onStartCountdownComplete=function(){return new Promise(function(e){B=setInterval(function(){a.setState(function(e){return{isCountdownInProgress:!0,startGameTimer:e.startGameTimer-1}}),a.state.startGameTimer<1&&(clearInterval(B),e(!0))},1e3)})},a.backToMenu=function(){a.setState({isMenu:!0,isResults:!1,isStaging:!1,score:0,finalAnswers:[]})},a.goToStaging=function(){a.setState({isStaging:!0,isResults:!1,isMenu:!1,score:0,finalAnswers:[]},function(){a.onOrientationChange()})},a.removeAnimationClasses=function(){a.setState({isAnimating:""})},a.handleHelpModal=function(){a.setState(function(e){return{isModalOpen:!e.isModalOpen}})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchData(),window.addEventListener("orientationchange",this.onOrientationChange),window.addEventListener("deviceorientation",function(e){t.onDeviceOrientation(e)},!0),window.addEventListener("devicemotion",function(e){t.onDeviceMotion(e)});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.state.isMenu?document.body.classList.remove("u-noScroll"):document.body.classList.add("u-noScroll")}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("orientationchange",this.onOrientationChange),window.removeEventListener("deviceorientation",function(t){e.onDeviceOrientation(t)},!0),window.removeEventListener("devicemotion",function(t){e.onDeviceMotion(t)})}},{key:"render",value:function(){return p.a.createElement(y.a,null,p.a.createElement("div",{className:"App"},Object.keys(this.state.categories).length?p.a.createElement(p.a.Fragment,null,this.state.isMenu&&p.a.createElement(p.a.Fragment,null,p.a.createElement("button",{className:"Menu-helpBtn",onClick:this.handleHelpModal},p.a.createElement("i",{className:"Menu-helpIcon"},"?")),this.state.isModalOpen&&p.a.createElement(A,{handleHelpModal:this.handleHelpModal,isModalOpen:this.state.isModalOpen}),p.a.createElement(N,{getActiveCat:this.getActiveCat,categories:this.state.categories,user:this.state.user}),p.a.createElement("button",{className:"Results-btn Results-btn--reshuffle",onClick:this.fetchData},p.a.createElement("svg",{className:"Results-shuffleIcon",height:"512px",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{d:"M370.1,181.3H399v47.3l81-83.2L399,64v54h-28.9c-82.7,0-129.4,61.9-170.6,116.5c-37,49.1-69,95.4-120.6,95.4H32v63.3h46.9  c82.7,0,129.4-65.8,170.6-120.4C286.5,223.7,318.4,181.3,370.1,181.3z M153.2,217.5c3.5-4.6,7.1-9.3,10.7-14.1  c8.8-11.6,18-23.9,28-36.1c-29.6-27.9-65.3-48.5-113-48.5H32v63.3c0,0,13.3-0.6,46.9,0C111.4,182.8,131.8,196.2,153.2,217.5z   M399,330.4h-28.9c-31.5,0-55.7-15.8-78.2-39.3c-2.2,3-4.5,6-6.8,9c-9.9,13.1-20.5,27.2-32.2,41.1c30.4,29.9,67.2,52.5,117.2,52.5  H399V448l81-81.4l-81-83.2V330.4z"})),"Reshuffle Decks")),this.state.isGameInProgress&&p.a.createElement(I,{inGameTimer:this.state.inGameTimer,activeItem:this.state.activeItem,isAnimating:this.state.isAnimating,removeAnimationClasses:this.removeAnimationClasses}),this.state.isResults&&p.a.createElement(E,{score:this.state.score,activeCollection:this.state.activeCollection,getActiveCat:this.getActiveCat,backToMenu:this.backToMenu,finalAnswers:this.state.finalAnswers}),this.state.isStaging&&p.a.createElement("div",{className:"Staging"},this.state.isCountdownInProgress?p.a.createElement("span",{className:"Staging-timerText"},this.state.startGameTimer):p.a.createElement("span",{className:"Staging-text"},"Place on forehead"))):p.a.createElement(p.a.Fragment,null,p.a.createElement(T,null))),p.a.createElement(j.a,{path:"/login",component:P}))}}]),t}(p.a.Component),J=document.getElementById("root");h.a.render(p.a.createElement(F,null),J),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/sw.js");H?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):D(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):D(t,e)})}}()}},[[40,1,2]]]);
//# sourceMappingURL=main.68710a0f.chunk.js.map