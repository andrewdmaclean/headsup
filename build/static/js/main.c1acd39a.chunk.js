(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(78)},47:function(e,t,a){},48:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n,i,s=a(15),r=a.n(s),o=a(21),c=a(22),l=a(16),m=a(8),u=a(9),d=a(12),g=a(11),f=a(13),p=a(0),h=a.n(p),v=a(33),b=a.n(v),E=a(14),w=a.n(E),y=(a(47),function(e){var t=e.score,a=e.activeCollection,n=e.getActiveCat,i=e.backToMenu,s=e.finalAnswers;return h.a.createElement("div",{className:"Staging"},h.a.createElement("p",{className:"Score"},"Score: ",t),h.a.createElement("ul",{className:"Results-list"},s.map(function(e){var t=e.name,a=e.status;return h.a.createElement("li",{key:t,className:w()("Results",{"Results--skip":"skip"===a})},t)})),h.a.createElement("div",{className:"Results-btnWrap"},a.list.size>0&&h.a.createElement("button",{className:"Results-btn Results-btn--go",onClick:function(){n({cat:a})}},"Play ",a.name," again"),h.a.createElement("button",{className:"Results-btn",onClick:function(){i()}},"New Category")))}),k=a(34),C=a(20),S=(a(48),a(35)),O=a.n(S).a.initializeApp({apiKey:"AIzaSyDMJ-2TjawLbkjbXVl0844mEpmcM5-SDII",authDomain:"wait-up-5ad7e.firebaseapp.com",databaseURL:"https://wait-up-5ad7e.firebaseio.com",projectId:"wait-up-5ad7e",storageBucket:"wait-up-5ad7e.appspot.com",messagingSenderId:"603672906124",appId:"1:603672906124:web:2fcf7a00792f8644"}),I=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={buttons:[],toggleCard:!1},a.logout=function(){O.auth().signOut()},a.toggleBtn=function(e){var t=Object(l.a)(a.state.buttons),n=t.findIndex(function(t){return t.name===e.name});t.forEach(function(e,t){return e.isActive=t===n&&!e.isActive}),a.setState(function(e){return{buttons:t}})},a.getBackBtnText=function(e){return"TRUE"===e.isLocked?"Unlock!":0===e.size?"Empty":"Start"},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("wtfwtfwtfwtfwtf",this.props.categories);var e=this.props.categories.map(function(e){return{name:e.name,isActive:!1,isLocked:e.isLocked}});this.setState({buttons:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.getActiveCat,n=t.categories,i=t.user;return h.a.createElement("div",{className:"Menu"},h.a.createElement("h1",{className:"Menu-title"},"Wait Up!"),i&&i.email&&h.a.createElement("div",{className:""},"Welcome, ",i.email,"! ",h.a.createElement("button",{onClick:this.logout},"Sign Out")),h.a.createElement("div",{className:"Menu-board"},this.state.buttons.length&&n.map(function(t,n){return h.a.createElement("div",{key:t.name,className:w()("Menu-card",{"is-flipped":e.state.buttons[n].isActive,"is-locked":"TRUE"===t.isLocked}),onClick:function(){e.toggleBtn(t)}},h.a.createElement("div",{className:"Menu-side Menu-side--back"},h.a.createElement("p",null,t.description),h.a.createElement("div",{className:"Menu-side-btnWrap"},"TRUE"===t.isLocked?h.a.createElement(C.b,{className:"Menu-side-btn Menu-side-btn--go",to:"/login"},e.getBackBtnText(t)):h.a.createElement(k.a,null,function(n){var i=n.enable,s=n.isOn;return h.a.createElement("button",{className:"Menu-side-btn Menu-side-btn--go",onClick:function(){a({cat:t,enable:i,isOn:s,isLocked:t.isLocked})},disabled:0===t.size},e.getBackBtnText(t))}))),h.a.createElement("div",{className:w()("Menu-side Menu-side--front",{"is-disabled":0===t.size})},t.name,"TRUE"===t.isLocked&&h.a.createElement("div",{className:"Menu-side-saleFlag"},"$0.99!"),h.a.createElement("p",{className:"Menu-info"},"".concat(t.list.size," items left"))))})))}}]),t}(p.Component),N=a(29),x=a.n(N),T=a(39),A=(a(69),function(e){var t=e.inGameTimer,a=e.activeItem,n=e.isAnimating,i=e.removeAnimationClasses,s=t<10,r=(s?"0:0":"0:")+t,o="correct"===n?"https://uploads.codesandbox.io/uploads/user/b8f1fe91-9c56-4aa6-8e4b-be201500d8d0/oyPj-sound_correct.mp3":"https://uploads.codesandbox.io/uploads/user/b8f1fe91-9c56-4aa6-8e4b-be201500d8d0/GgUH-sound_skip.mp3",c="correct"===n?"Correct!":"Skip!";return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:w()("Staging",{"Staging--correct":"correct"===n,"Staging--skip":"skip"===n}),onTransitionEnd:i},n&&!T.isIOS&&h.a.createElement(x.a,{url:o,playStatus:x.a.status.PLAYING}),void 0!==a?h.a.createElement("div",{className:"Game-activeItem"},""!==n?c:a):h.a.createElement("p",null,"Category is empty :( ",h.a.createElement("br",null)," Tap to continue"),h.a.createElement("div",{className:w()("Timer",{"is-countdown":s})},r)))}),j=(a(70),function(){return h.a.createElement("svg",{className:"LoadingIcon",xmlns:"http://www.w3.org/2000/svg",width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",style:{background:"none"}},h.a.createElement("g",{transform:"rotate(0 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(30 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(60 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(90 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(120 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(150 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(180 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(210 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(240 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(270 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(300 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}))),h.a.createElement("g",{transform:"rotate(330 50 50)"},h.a.createElement("rect",{x:"47",y:"24",rx:"9.4",ry:"4.8",width:"6",height:"12",fill:"#13166f"},h.a.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}))))}),G=a(17),L=a(26),M=a(19),P=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).state={email:"",password:"",error:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.login=function(e,t){e.preventDefault(),O.auth().signInWithEmailAndPassword(a.state.email,a.state.password).then(function(){t.push("/")}).catch(function(e){a.setState({error:e.message})})},a.signup=function(e,t){e.preventDefault(),O.auth().createUserWithEmailAndPassword(a.state.email,a.state.password).then(function(){t.push("/")}).catch(function(e){a.setState({error:e.message})})},a.handleSubmit=function(){var e=Object(o.a)(r.a.mark(function e(t,n){var i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a.login(t,n),e.prev=2,e.next=5,a.props.stripe.createToken({name:a.state.email});case 5:return i=e.sent,s=i.token,console.log("this is the token!!!!:",s),e.next=10,fetch("/api/donate",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({token:s})});case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),e.t0;case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return h.a.createElement(G.a,{render:function(t){var a=t.history;return h.a.createElement("div",{className:"Login-wrap"},h.a.createElement("form",{className:"Login",onSubmit:function(t){return e.handleSubmit(t,a)}},h.a.createElement("h2",{className:"Login-title"},"Sign up to purchase decks!"),h.a.createElement("input",{type:"email",name:"email",placeholder:"Email",className:"Login-input",onChange:function(t){return e.handleChange(t)}}),h.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"Login-input",onChange:function(t){return e.handleChange(t)}}),h.a.createElement("div",{className:"Login-btnWrap"},h.a.createElement(h.a.Fragment,null,h.a.createElement("button",{type:"submit",className:"Login-btn Login-btn--signIn"},"Sign In"),h.a.createElement("button",{className:"Login-btn Login-btn--signUp"},"Sign Up!"))),h.a.createElement(M.CardElement,null),e.state.error&&h.a.createElement("p",null,e.state.error)))}})}}]),t}(p.Component),R=Object(M.injectStripe)(P),D=(a(76),function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return h.a.createElement(M.StripeProvider,{apiKey:"pk_test_ZWmVelRqEpVF1yGEpwlPyVIc00BdFJD6I9"},h.a.createElement(M.Elements,null,h.a.createElement(R,null)))}}]),t}(p.Component)),z=(a(77),3),U=3,W=function(e){function t(){var e,a;Object(m.a)(this,t);for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(u)))).state={isMenu:!0,isStaging:!1,isGameInProgress:!1,isGameOver:!1,isResults:!1,isCountdownInProgress:!1,score:0,finalAnswers:[],categories:{},activeCollection:{},startGameTimer:U+1,inGameTimer:z,activeItem:"",orientation:"positive",blockRotation:!1,isAnimating:"",user:{}},a.authListener=function(){O.auth().onAuthStateChanged(function(e){e?a.setState({user:e}):a.setState({user:null})})},a.onDeviceMotion=function(e){(a.state.isStaging||a.state.isGameInProgress)&&e.acceleration.x>35&&(a.resetGame(),a.backToMenu())},a.onDeviceOrientation=function(e){a.state.isGameInProgress&&(Math.abs(e.gamma)<=30&&!a.state.blockRotation&&(e.gamma<0?"positive"===a.state.orientation?a.getNextItem("skip"):a.getNextItem("correct"):"positive"===a.state.orientation?a.getNextItem("correct"):a.getNextItem("skip"),a.setState({blockRotation:!0})),Math.abs(e.gamma)>=70&&a.setState({blockRotation:!1}))},a.onOrientationChange=function(){a.state.isStaging&&(90===window.orientation?(a.setState({orientation:"positive"}),a.startGame()):-90===window.orientation&&(a.setState({orientation:"negative"}),a.startGame()))},a.onLoad=function(e){for(var t=e.valueRanges[0].values,n=[],i=0;i<t.length;i++){var s={};s.name=t[i][0],s.isLocked=t[i][1],s.description=t[i][2],s.list=new Set(Object(l.a)(t[i].splice(3))),n.push(s)}a.setState({categories:n,activeCollection:n[0]})},a.getActiveCat=function(e){var t=e.isOn,n=e.cat,i=e.enable;!t&&i&&i();var s=Object(c.a)({},n,{list:new Set(n.list)});a.setState({activeCollection:s}),a.goToStaging()},a.onInGameTimerComplete=function(){return new Promise(function(e){n=setInterval(function(){a.setState(function(e){return{inGameTimer:e.inGameTimer-1}}),(a.state.inGameTimer<1||a.state.isGameOver)&&(clearInterval(n),e(!0))},1e3)})},a.resetGame=function(){clearInterval(i),clearInterval(n),void 0!==a.state.activeItem&&a.setState(function(e){return{finalAnswers:[].concat(Object(l.a)(e.finalAnswers),[{name:a.state.activeItem,status:"skip"}])}});var e=new Set(a.state.activeCollection.list);e.delete(a.state.activeItem),a.setState(function(t){return{activeCollection:Object(c.a)({},t.activeCollection,{list:e}),isCountdownInProgress:!1,inGameTimer:z,startGameTimer:U+1,isGameInProgress:!1,isStaging:!1,isGameOver:!1,isResults:!0}})},a.startGame=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.onStartCountdownComplete();case 2:return a.setState({isCountdownInProgress:!1,startGameTimer:U+1,isGameInProgress:!0,isMenu:!1,isResults:!1,isStaging:!1}),a.getNextItem(),e.next=6,a.onInGameTimerComplete();case 6:a.resetGame();case 7:case"end":return e.stop()}},e)})),a.makeDecision=function(e){e&&(a.setState(function(t){return{finalAnswers:[].concat(Object(l.a)(t.finalAnswers),[{name:a.state.activeItem,status:e}])}}),"correct"===e?a.setState(function(e){return{score:e.score+1,isAnimating:"correct"}}):a.setState({isAnimating:"skip"}))},a.getRandomItem=function(){var e=Math.floor(Math.random()*a.state.activeCollection.list.size),t=Object(l.a)(a.state.activeCollection.list)[e],n=new Set(a.state.activeCollection.list);n.delete(t);var i=Object(l.a)(a.state.categories);i.splice(i.findIndex(function(e){return e.name===a.state.activeCollection.name}),1,Object(c.a)({},a.state.activeCollection,{list:n})),a.setState(function(e){return{activeItem:t,activeCollection:Object(c.a)({},e.activeCollection,{updatedCollection:n}),categories:i}})},a.getNextItem=function(e){void 0!==a.state.activeItem||0!==a.state.activeCollection.list.size?(a.makeDecision(e),a.getRandomItem()):a.setState({isGameOver:!0})},a.onStartCountdownComplete=function(){return new Promise(function(e){i=setInterval(function(){a.setState(function(e){return{isCountdownInProgress:!0,startGameTimer:e.startGameTimer-1}}),a.state.startGameTimer<1&&(clearInterval(i),e(!0))},1e3)})},a.backToMenu=function(){a.setState({isMenu:!0,isResults:!1,isStaging:!1,score:0,finalAnswers:[]})},a.goToStaging=function(){a.setState({isStaging:!0,isResults:!1,isMenu:!1,score:0,finalAnswers:[]},function(){a.onOrientationChange()})},a.removeAnimationClasses=function(){a.setState({isAnimating:""})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t,a,n,i=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.authListener(),"AIzaSyAZ1DwWLQtUG4THryaQOohA1GatPSW4bKQ","1zwtuoozCw-8iGHFhJiolPz0Loy4sk17mHffVorw2z1s",t="https://sheets.googleapis.com/v4/spreadsheets/".concat("1zwtuoozCw-8iGHFhJiolPz0Loy4sk17mHffVorw2z1s","/values:batchGet?ranges=categories&majorDimension=COLUMNS&key=").concat("AIzaSyAZ1DwWLQtUG4THryaQOohA1GatPSW4bKQ"),e.next=6,fetch(t);case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,this.onLoad(n),window.addEventListener("orientationchange",this.onOrientationChange),window.addEventListener("deviceorientation",function(e){i.onDeviceOrientation(e)},!0),window.addEventListener("devicemotion",function(e){i.onDeviceMotion(e)});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.state.isMenu?document.body.classList.remove("u-noScroll"):document.body.classList.add("u-noScroll")}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("orientationchange",this.onOrientationChange),window.removeEventListener("deviceorientation",function(t){e.onDeviceOrientation(t)},!0),window.removeEventListener("devicemotion",function(t){e.onDeviceMotion(t)})}},{key:"render",value:function(){return h.a.createElement(C.a,null,h.a.createElement("div",{className:"App"},Object.keys(this.state.categories).length?h.a.createElement(h.a.Fragment,null,this.state.isMenu&&h.a.createElement(I,{getActiveCat:this.getActiveCat,categories:this.state.categories,user:this.state.user}),this.state.isGameInProgress&&h.a.createElement(A,{inGameTimer:this.state.inGameTimer,activeItem:this.state.activeItem,isAnimating:this.state.isAnimating,removeAnimationClasses:this.removeAnimationClasses}),this.state.isResults&&h.a.createElement(y,{score:this.state.score,activeCollection:this.state.activeCollection,getActiveCat:this.getActiveCat,backToMenu:this.backToMenu,finalAnswers:this.state.finalAnswers}),this.state.isStaging&&h.a.createElement("div",{className:"Staging"},this.state.isCountdownInProgress?h.a.createElement("span",{className:"Staging-timerText"},this.state.startGameTimer):h.a.createElement("span",{className:"Staging-text"},"Place on forehead"))):h.a.createElement(h.a.Fragment,null,h.a.createElement(j,null))),h.a.createElement(G.a,{path:"/login",component:D}))}}]),t}(h.a.Component),B=document.getElementById("root");b.a.render(h.a.createElement(W,null),B)}},[[40,1,2]]]);
//# sourceMappingURL=main.c1acd39a.chunk.js.map